# Comparing the Euler method with the analitic method in terms of accuracy in the study of fluid dynamics in a brine tank

In this repository I present some scripts written in Matlab which allow to study from a differential point of view the variations of the salt quantities in the brine mixture as time passes. The algorithms allow us to calculate the rate of accumulation of the brine solution by solving the ordinary differential equations from two points of view: numerically through the Euler method and analytically by traditional methods.

A ```.pdf``` report with the details of the case study is attached to this repository. In it you can see the analysis and conclusions of the case.

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.

### Prerequisites

* Matlab software.
* Basic knowledge about ordinary differential equations and numeric methods, especially Euler's method.

In addition to being able to run the scripts, the idea is to have knowledge of what is done (read the paper for that).

### Installing

Clone the repo in your local machine ```$ git clone https://github.com/ClementeSerrano/euler_vs_analytical_diffEqsMethods.git``` and open it in the Matlab IDLE. Then just run the script you want.

## About the math model

Below I show the equations that the scripts model and also their respective results.

### The Euler Method

Interpreting the differential equation

![alt text](http://latex.codecogs.com/svg.latex?%5Cfrac%7Bdy%7D%7Bdx%7D%3Df%28x%2Cy%29%5C%3B%5C%3B%7C%5C%3B%5C%3By%28x_0%29%3Dy_0)

as an vector field in the plane ![alt text](http://latex.codecogs.com/svg.latex?xy) and the condition ![alt text](http://latex.codecogs.com/svg.latex?y%28x_0%29%3Dy_0) as a point ![alt text](http://latex.codecogs.com/svg.latex?%28x_0%2Cy_0%29) of that plane, you can approximate the solution function ![alt text](http://latex.codecogs.com/svg.latex?y%28x%29) by means of the tangent line to the same one that passes through that point:

![alt text](http://latex.codecogs.com/svg.latex?%5Cfrac%7Bdy%7D%7Bdx%7D%5Capprox%5C%2Cy_0%2Bf%28x%2Cy%29%28x-x_0%29),

where the slope of that tangent is: ![alt text](http://latex.codecogs.com/svg.latex?m%3Dy%27%28x_0%29) and, consequently, ![alt text](http://latex.codecogs.com/svg.latex?m%3Df%28x_0%2Cy_0%29).

This is how the approximate value of the solution is calculated. Then, evaluating the point of the x-axis ![alt text](http://latex.codecogs.com/svg.latex?x_1) must be applied:

![alt text](http://latex.codecogs.com/svg.latex?y%28x_1%29%5Capprox%5C%2Cy_1%3Dy_0%2Bf%28x_0%2Cy_0%29%28x_1-x_0%29).

With this point already calculated, you can repeat the method to obtain the other approximate point ![alt text](http://latex.codecogs.com/svg.latex?%28x_2%2Cy_2%29). This is done in the following way:

![alt text](http://latex.codecogs.com/svg.latex?y%28x_2%29%5Capprox%5C%2Cy_2%3Dy_1%2Bf%28x_1%2Cy_1%29%28x_2-x_1%29).

It is usual in this method to calculate the approximate solution in points of the form: ![alt text](http://latex.codecogs.com/svg.latex?x_n%3Dx_%7B%28n-1%29%7D%2Bh%3Dx_0%2Bnh), where ![alt text](http://latex.codecogs.com/svg.latex?h) is the step size of the method. Using the above, the formulas that determine the approximate solution are obtained in the following way:

(1) ![alt text](http://latex.codecogs.com/svg.latex?x_n%3Dx_%7B%28n-1%29%7D%2Bh).

(2) ![alt text](http://latex.codecogs.com/svg.latex?y_n%3Dy_%7B%28n-1%29%7D%2Bf%28x_%7B%28n-1%29%7D%2Cy_%7B%28n-1%29%7D%29h).

### The Analytical Method

Next we will explain the step by step of the analytical resolution of the differential equation generated by the model that is analyzed. The methodology that is followed is the one that performs the function of Matlab ```dsolve()```.

The problem proposes that a mixture in the form of fluid circulates through a storage chamber with values such as initial volume, volumetric flow (or flow) of input and volumetric flow of known and constant output, however, instantaneous volume, instantaneous concentration and quantity of solute output variables over time.

How to find an expression for these variable quantities? We could start by describing how the volume change behaves infinitesimally as the process proceeds. For the above, consider that ![alt text](http://latex.codecogs.com/svg.latex?V) is our instantaneous volume, ![alt text](http://latex.codecogs.com/svg.latex?t) is time, ![alt text](http://latex.codecogs.com/svg.latex?Q_e) is the volumetric flow of input and ![alt text](http://latex.codecogs.com/svg.latex?Q_s) the volumetric flow of output. With this information we can say that the variation of the volume in time is

![alt text](http://latex.codecogs.com/svg.latex?%5Cfrac%7BdV%7D%7Bdt%7D%3DQ_e-Q_s)

We solve this simple ODE in the following way:

![alt text](http://latex.codecogs.com/svg.latex?dV%3D%5Cleft%28Q_e-Q_s%5Cright%29%5C%2Cdt) (we separate variables),

![alt text](http://latex.codecogs.com/svg.latex?%5Cint%5C%2CdV%3D%5Cleft%28Q_e-Q_s%5Cright%29%5Cint%5C%2Cdt) (we integrate the differentials),

![alt text](http://latex.codecogs.com/svg.latex?V%28t%29%3D%5Cleft%28Q_e-Q_s%5Cright%29t%2BV_i),

where ![alt text](http://latex.codecogs.com/svg.latex?V_i) is the integration constant and for this case, the initial volume of the mixture in the camera.

This same concept of accumulation rate to define a ratio of change occurs with the concentration of solute: the accumulated is equal to the difference of what goes with what comes out.

We will call ![alt text](http://latex.codecogs.com/svg.latex?X) to the amount of solute, which we will measure in units of mass ![alt text](http://latex.codecogs.com/svg.latex?m). Being ![alt text](http://latex.codecogs.com/svg.latex?t) time, we can think the following: what information do we have of what enters and leaves the dynamic system that allows us to obtain quantities in units of mass over time? The answer lies in the volumetric flow and in the concentration.

Remembering that the volumetric flow is an amount of volume per unit of time, that is, a cubic length over time ![alt text](http://latex.codecogs.com/svg.latex?l%5E3%2Ft) and that the concentration ![alt text](http://latex.codecogs.com/svg.latex?C) is mass amount per unit volume ![alt text](http://latex.codecogs.com/svg.latex?m%2Fl%5E3), then the product ![alt text](http://latex.codecogs.com/svg.latex?Q%5Ccdot%5C%2CC) would give us the units of measure we need: ![alt text](http://latex.codecogs.com/svg.latex?m%2Ft).

With this information we can say that the differential variation of the amount of solute in time will be given by

![alt text](http://latex.codecogs.com/svg.latex?%5Cfrac%7BdX%7D%7Bdt%7D%3DQ_e%5C%2CC_1-Q_s%5C%2CC%28t%29).

It is possible to notice that the amount ![alt text](http://latex.codecogs.com/svg.latex?Q_s%5C%2CC%28t%29) depends on the time. This is logical since in the output, the mixture does not maintain a constant concentration, a quantity that changes according to time.

We are steps away from obtaining the differential equation that we are looking for. Before we will need to break down the concentration ![alt text](http://latex.codecogs.com/svg.latex?C%28t%29) of the rate of change ![alt text](http://latex.codecogs.com/svg.latex?%5Cfrac%7BdX%7D%7Bdt%7D). For this we will simply continue with the definition of concentration as a quantity of mass on unit of volume, only this time both variables with time. This mass $ m $ will be the amount of solute that we are looking for, in such a way that PENDING TO CONTINUE...

## Authors

* **Clemente Serrano** - [ClementeSerrano](https://github.com/ClementeSerrano)
